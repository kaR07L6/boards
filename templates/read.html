{% extends 'base2.html' %}

{% block title %}読書タイマー{% endblock %}

{% block content %}
<section>
    <h2>読書タイマー</h2>
    <div id="timer">00:00:00</div>
    <button id="start">開始</button>
    <button id="stop">停止</button>
    <button id="reset">リセット</button>
</section>

<script>
    let timer;
    let seconds = 0, minutes = 0, hours = 0;
    
    function updateTimer() {
        seconds++;
        if (seconds >= 60) {
            seconds = 0;
            minutes++;
        }
        if (minutes >= 60) {
            minutes = 0;
            hours++;
        }
        document.getElementById("timer").textContent = 
            String(hours).padStart(2, '0') + ":" +
            String(minutes).padStart(2, '0') + ":" +
            String(seconds).padStart(2, '0');
    }

    document.getElementById("start").addEventListener("click", function() {
        if (!timer) {
            timer = setInterval(updateTimer, 1000);
        }
    });

    document.getElementById("stop").addEventListener("click", function() {
        clearInterval(timer);
        timer = null;
    });

    document.getElementById("reset").addEventListener("click", function() {
        clearInterval(timer);
        timer = null;
        seconds = 0;
        minutes = 0;
        hours = 0;
        document.getElementById("timer").textContent = "00:00:00";
    });
</script>

<a href="{% url 'log:index' %}" class="btn btn-primary">一覧に戻る</a>

{% endblock %}
